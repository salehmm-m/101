<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>ماشین‌حساب افت ولتاژ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: Vazirmatn, Arial, sans-serif; margin: 24px; background: #f6f7f9; direction: rtl; }
    .card { background: #fff; padding: 20px; border-radius: 12px; max-width: 480px; margin: 0 auto; box-shadow: 0 6px 18px rgba(0,0,0,0.08); }
    h2 { margin: 0 0 16px; font-size: 18px; color: #222; }
    label { display: block; margin-top: 10px; color: #333; font-size: 14px; }
    input, select { margin-top: 4px; padding: 6px; width: 140px; border: 1px solid #d0d6dd; border-radius: 6px; font-size: 13px; background: #fbfcfd; }
    .row { display: flex; gap: 10px; flex-wrap: wrap; }
    .hint { font-size: 11px; color: #666; margin-top: 2px; }
    .optional { display: none; }
    button { margin-top: 14px; width: 100%; background: #2563eb; color: #fff; border: none; padding: 10px; border-radius: 8px; font-size: 14px; cursor: pointer; }
    button:hover { background: #1e4fd6; }
    #result { margin-top: 16px; font-weight: 600; color: #111; font-size: 14px; }
    .note { margin-top: 10px; font-size: 11px; color: #555; line-height: 1.6; }
    @media (max-width: 480px) {
      input, select { width: 110px; font-size: 12px; padding: 5px; }
      h2 { font-size: 16px; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>ماشین‌حساب افت ولتاژ (تکفاز / سه‌فاز)</h2>

    <label>نوع سیستم
      <select id="systemType" onchange="toggleFields()">
        <option value="single">تکفاز</option>
        <option value="three">سه‌فاز</option>
      </select>
    </label>
    <div class="row">
      <label>طول کابل (L) متر
        <input type="number" id="length" placeholder="مثلاً 50" />
      </label>
      <label>جریان (I) آمپر
        <input type="number" id="current" placeholder="مثلاً 20" />
      </label>
    </div>
    <div class="row">
      <label>مقاومت ویژه (ρ) اهم·mm²/m
        <input type="number" step="any" id="resistivity" placeholder="مس≈0.0175" />
        <div class="hint">مس: 0.0175 | آلومینیوم: 0.0282</div>
      </label>
      <label>سطح مقطع (A) mm²
        <input type="number" id="area" placeholder="مثلاً 10" />
      </label>
    </div>
    <label>ضریب توان (cosφ) (اختیاری)
      <input type="number" step="any" id="powerFactor" placeholder="مثلاً 0.9" />
    </label>

    <label class="optional" id="reactanceLabel">راکتانس (X) اهم 
